<%= form_for @song, :html => {:class => 'pure-form pure-form-stacked big-form'} do |f| %>
  <div class="pure-g">
    <div class="pure-u-1-2">
      <p>
        <% if params[:id] %>
          <%= link_to 'Back to Song', song_path(@song), class: 'pure-button pure-button-primary' %>
        <% else %>
          <%= link_to 'Back to Songs', songs_path, class: 'pure-button pure-button-primary' %>
        <% end %>
      </p>

      <%= f.label :artist %>
      <%= f.text_field :artist, :placeholder => 'Artist' %>

      <%= f.label :title %>
      <%= f.text_field :title, :placeholder => 'Title' %>

      <%= f.label :youtube_url, 'YouTube URL' %>
      <%= f.text_field :youtube_url,
        :autocomplete => 'off',
        :placeholder => 'youtube.com/watch?v=123456789'
      %>

      <%= f.label :key %>
      <%= f.select :key, song_keys %>
    </div>

    <div class="pure-u-1-2">
      <% if @song.errors.any? %>
        <h2>Something went wrong:</h2>

        <ul>
          <% for error_message in @song.errors.full_messages %>
            <li>
              <%= error_message %>
            </li>
          <% end %>
        </ul>
      <% end %>
    </div>

    <div class="pure-u-1-1">
      <%= f.label :song %>
      <%= f.text_area :content,
        :autocomplete => 'off',
        :class => 'songdown-editor'
      %>

      <p>
        <%= f.submit :class => 'pure-button pure-button-primary' %>

        <% if params[:id] %>
          <%= link_to 'Delete Song', song_path(@song),
            :method => :delete,
            :class => 'pure-button pure-button-danger',
            :data => {
              :confirm => "Are you sure you want to delete \"#{@song.title}\"?"
            }
          %>
        <% end %>
      </p>
    <% end %>
  </div>
</div>
