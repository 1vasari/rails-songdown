<div class="header">
  <h1>Add Song</h1>
</div>

<div class="content">
  <%= form_for @setlist_item,
    :url => setlist_items_path(:setlist_id => @setlist.id),
    :html => {
      :class => 'pure-form pure-form-stacked'
    } do |f| %>

    <div class="pure-g">

      <div class="pure-u-1-3">
        <%= f.label 'Song' %>
        <%= f.text_field :title, :readonly => true, :style => 'width: 100%;' %>

        <!-- These guys are hidden so it doesn't matter where they get lumped -->
        <%= f.hidden_field :song_id %>
        <%= f.hidden_field :artist %>
      </div>

      <div class="pure-u-1-3">
        <%= f.label 'Key' %>
        <%= f.select :key, [
          ['C major / A minor', 'C'],
          ['Db major / Bb minor', 'Db'],
          ['D major / B minor', 'D'],
          ['Eb major / C minor', 'Eb'],
          ['E major / C# minor', 'E'],
          ['F major / D minor', 'F'],
          ['Gb major / Eb minor', 'Gb'],
          ['G major / E minor', 'G'],
          ['Ab major / F minor', 'Ab'],
          ['A major / F# minor', 'A'],
          ['Bb major / G minor', 'Bb'],
          ['B major / G# minor', 'B'],
        ], {}, :style => 'width: 100%' %>
      </div>

      <div class="pure-u-1-3">
        <%= f.label 'Invisible label to align button', :style => 'visibility: hidden;' %>
        <%= f.submit 'Select Song',
          :class => 'pure-button pure-button-primary',
          :style => 'width: 100%;'
        %>
      </div>

      <% if @setlist_item.errors.any? %>
        <div class="pure-u-1-1">
          <h2>Errors:</h2>

          <ul>
            <% for error_message in @setlist_item.errors.full_messages %>
              <li>
                <%= error_message %>
              </li>
            <% end %>
          </ul>
        </div>
      <% end %>
    </div>
  <% end %>

  <div class="pure-g">
    <div class="pure-u-1-1">
      <%= form_tag api_search_songs_path,
        :method => 'post',
        :remote => true,
        :class => 'pure-form custom-form',
        :id => 'find_song' do
      %>
        <h2>Find a Song</h2>

        <%= text_field_tag :query, '',
          :autocomplete => 'off',
          :placeholder => 'Enter query'
        %>

        <%= submit_tag 'Search', :class => 'pure-button pure-button-primary' %>
      <% end %>
    </div>

    <div class="pure-u-1-1">
      <div id="results"></div>
    </div>
  </div>
</div>
